(this["webpackJsonpreact-router-ts"]=this["webpackJsonpreact-router-ts"]||[]).push([[0],{57:function(e,t,c){},64:function(e,t,c){"use strict";c.r(t);var n,a,s,i,r,j=c(2),b=c(43),d=c.n(b),l=c(74),O=c(75),o=c(77),h=new O.a({cache:new o.a,uri:"".concat("https://graphql-server-ts.qa.jp7.com.br","/graphql")}),u=(c(57),c(10)),m=c(7),x=c(1),v=function(){var e=Object(m.h)("/:page"),t=function(t,c){var n,a=(null===e||void 0===e||null===(n=e.params)||void 0===n?void 0:n.page)||"",s=c==="/".concat(a)?"bt bt-active":"bt";return Object(x.jsx)(u.b,{to:c,className:s,children:t})};return Object(x.jsxs)("header",{children:[Object(x.jsxs)("h1",{children:[Object(x.jsx)("div",{className:"title",children:"React Router CRUD"}),Object(x.jsx)("div",{className:"subtitle",children:"With GraphQL And TypeScript"})]}),Object(x.jsxs)("div",{className:"navigation",children:[t("Home","/"),t("Tasks","/tasks")]})]})},k=c(31),p=c(39),f=c(22),N=function(e){var t=function(e,t){var c=Object(j.useState)(e),n=Object(f.a)(c,2),a=n[0],s=n[1];return{formState:a,handleChange:function(e){var t=e.target,c=t.tagName,n=t.name,i=t.value,r="SELECT"===c&&""===i?null:i;s(Object(p.a)(Object(p.a)({},a),{},Object(k.a)({},n,r)))},handleSubmit:function(e){e.preventDefault(),t(a)}}}(e.activeRecord,e.submitAction),c=t.formState,n=t.handleChange,a=t.handleSubmit;return Object(x.jsx)("div",{children:Object(x.jsxs)("form",{onSubmit:a,children:[Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{children:"Name"}),Object(x.jsx)("input",{type:"text",name:"name",value:c.name,onChange:n})]}),Object(x.jsx)("input",{type:"submit"})]})})},g=c(80),T=c(23),w=c(76),S=Object(w.a)(n||(n=Object(T.a)(["\n  {\n    tasks {\n      id\n      name\n    }\n  }\n"]))),$=Object(w.a)(a||(a=Object(T.a)(["\n  query ($id: ID!) {\n    task(id: $id) {\n      id\n      name\n    }\n  }\n"]))),R=Object(w.a)(s||(s=Object(T.a)(["\n  mutation ($name: String!) {\n    createTask(name: $name) {\n      id\n      name\n    }\n  }\n"]))),y=Object(w.a)(i||(i=Object(T.a)(["\n  mutation ($id: ID!, $name: String!) {\n    updateTask(id: $id, name: $name) {\n      id\n      name\n    }\n  }\n"]))),C=Object(w.a)(r||(r=Object(T.a)(["\n  mutation ($id: ID!) {\n    removeTask(id: $id)\n  }\n"]))),D=function(){var e={refetchQueries:[{query:S}],awaitRefetchQueries:!0},t=Object(g.a)(R,e),c=Object(f.a)(t,1)[0],n=Object(g.a)(y,e),a=Object(f.a)(n,1)[0],s=Object(g.a)(C,e);return{createTask:c,updateTask:a,removeTask:Object(f.a)(s,1)[0]}},E=function(){var e=Object(m.f)(),t=D().createTask;return Object(x.jsxs)("div",{className:"content",children:[Object(x.jsx)(u.b,{className:"bt bt-back",to:"/tasks",children:"Back"}),Object(x.jsx)("h2",{children:"New"}),Object(x.jsx)(N,{activeRecord:{name:""},submitAction:function(c){t({variables:c}),e.push("/tasks")}})]})},q=c(78),A=function(){var e=Object(m.g)().id,t=Object(m.f)(),c=Object(q.a)($,{variables:{id:e}}),n=c.loading,a=c.data,s=c.error,i=D().updateTask;return n?Object(x.jsx)("div",{className:"loading",children:"Loading"}):s?Object(x.jsx)("div",{className:"error",children:JSON.stringify(s,null,2)}):a?Object(x.jsxs)("div",{className:"content",children:[Object(x.jsx)(u.b,{className:"bt bt-back",to:"/tasks",children:"Back"}),Object(x.jsx)("h2",{children:"Edit"}),Object(x.jsx)(N,{activeRecord:a.task,submitAction:function(e){i({variables:e}),t.push("/tasks")}})]}):Object(x.jsx)("div",{className:"notfound",children:"Not Found"})},I=function(e){var t=e.task,c=D().removeTask;return Object(x.jsxs)("div",{className:"item",children:[Object(x.jsx)(u.b,{to:"/tasks/".concat(t.id,"/edit"),children:t.name}),Object(x.jsx)("button",{className:"bt-remove",onClick:function(){return c({variables:t})},children:"X"})]})},J=function(){var e=Object(q.a)(S),t=e.loading,c=e.data,n=e.error;return t?Object(x.jsx)("div",{className:"loading",children:"Loading..."}):n?Object(x.jsxs)("div",{className:"error",children:[Object(x.jsx)("div",{children:n.message}),Object(x.jsx)("pre",{children:JSON.stringify(n.networkError,null,2)})]}):Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{className:"content",children:Object(x.jsx)(u.b,{to:"/tasks/new",className:"bt bt-new",children:"New"})}),Object(x.jsx)("div",{className:"list",children:Object(x.jsx)("ul",{children:null===c||void 0===c?void 0:c.tasks.map((function(e){return Object(x.jsx)("li",{children:Object(x.jsx)(I,{task:e})},e.id)}))})})]})},L=function(){return Object(x.jsx)("div",{className:"page",children:Object(x.jsxs)(m.c,{children:[Object(x.jsx)(m.a,{path:"/tasks/new",children:Object(x.jsx)(E,{})}),Object(x.jsx)(m.a,{path:"/tasks/:id/edit",children:Object(x.jsx)(A,{})}),Object(x.jsx)(m.a,{path:"/tasks",children:Object(x.jsx)(J,{})})]})})},B=function(){return Object(x.jsxs)("div",{className:"content",children:[Object(x.jsx)("h2",{children:"Home"}),Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{children:"This is a simple example showing how to use React Router:"}),Object(x.jsxs)("ul",{children:[Object(x.jsx)("li",{children:"Home (this page)"}),Object(x.jsx)("li",{children:Object(x.jsx)(u.b,{to:"/tasks",children:"Tasks (/tasks)"})}),Object(x.jsx)("li",{children:Object(x.jsx)(u.b,{to:"/tasks/new",children:"New Task (/tasks/new)"})}),Object(x.jsx)("li",{children:"Edit Task (/tasks/TASK_ID/edit)"})]})]})]})},H=function(){return Object(x.jsx)("div",{children:Object(x.jsxs)(u.a,{children:[Object(x.jsx)(v,{}),Object(x.jsxs)(m.c,{children:[Object(x.jsx)(m.a,{path:"/tasks",children:Object(x.jsx)(L,{})}),Object(x.jsx)(m.a,{path:"/",children:Object(x.jsx)(B,{})})]})]})})};d.a.render(Object(x.jsx)(l.a,{client:h,children:Object(x.jsx)(H,{})}),document.getElementById("root"))}},[[64,1,2]]]);
//# sourceMappingURL=main.d73ac98c.chunk.js.map